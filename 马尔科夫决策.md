## 马尔科夫决策

当随机过程在t0所处的状态已知，过程在时刻t>t0所处的状态与t0的状态有关，而与t0以前的状态无关，则称该随机过程为马尔科夫过程。

设可能出现的状态为N个，记为W1,W2...WN。

### 一、马尔科夫链在时刻tk的状态为Wt到下一时刻tk+1状态换变为Wj的概率称为马尔科夫链的一步转移概率，记为pij，

因此可以定义矩阵

p= [p11,p12,...p1n]

​	 [p21,p22,...p2n]

​	...

​	[pn1,pn2,...pnn]

注：矩阵的乘法

![image-20211127093453248](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20211127093453248.png)

### 二、

定理一、设马尔科夫在初始状态的一步转移概率矩阵为P(1)=P,则由初始状态经过n个时间间隔转移到新的状态的转移概率矩阵为

P^（n）^=P * P... * P=P^n^

即n步转移概率矩阵等于一步转移概率矩阵的n次方

定理二、若记Pn的元素为pij（n），则有：

lim（n-》无穷）p~ij~^（n）^=pi

即当n趋于无穷时，转移概率矩阵趋近于稳定，收敛于一个稳定的值。

### 案例：

#### 市场占有率问题：已知A、B、C三种产品的市场占有份额在三月份分别为0.5,0.33,0.17，转移概率矩阵经调查后估计为：

![image-20211127094419745](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20211127094419745.png)

第一行表示 第一次买A第二次还买A的概率pAA为0.4，第一次买A第二次买B的概率PAB为0.3，第一次买A第二次买C的概率PAC为0.3.

第二行表示 第一次买B第二次买A的概率pBA为0.6，第一次买B第二次买B的概率PBB为0.3，第一次买B第二次买C的概率PBC为0.1.

第三行表示 第一次买C第二次还买A的概率pAC为0.6，第一次买C第二次买B的概率PAB为0.1，第一次买C第二次买C的概率PAC为0.3.

因此我们要获得四月份的占有额的做法便是，将三月份的占有额矩阵乘以转移概率矩阵P。

[0.5,0.33,0.17] *P=[0.5,0.266,0.244]

四月份的市场占有额为0.5,0.266,0.244

#### 变化的最终状态问题，条件为转移后状态不再改变

假如市场长期保持稳定，即转移概率矩阵长期保持不变，则根据定理二有

（x y 1-x-y）*P=（x y 1-x-y） P已知。

以此求出最终稳定向量，就得出ABC三种商品的最终市场占有率

